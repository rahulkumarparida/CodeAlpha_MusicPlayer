let SongData = [
  {
    src: "50 Cent - Candy Shop (Official Music Video) ft. Olivia.mp3",
    Singer: "50 Cent ft. Olivia",
    Fact: "Released in 2005 as a single from *Get Rich or Die Tryin'*, “Candy Shop” became 50 Cent’s third U.S. Billboard Hot 100 #1 hit.",
  },
  {
    src: "50 Cent - In Da Club (Official Music Video).mp3",
    Singer: "50 Cent",
    Fact: "In 2003, “In da Club” debuted at #6 and eventually reached #1 on the U.S. Billboard Hot 100, becoming 50 Cent’s first U.S. #1 single.",
  },
  {
    src: "50 Cent - Just A Lil Bit.mp3",
    Singer: "50 Cent",
    Fact: "“Just a Lil Bit” (2005) peaked at #3 on the Billboard Hot 100, becoming 50 Cent’s sixth solo top-10 hit.",
  },
  {
    src: "Aankhein Khuli Song  Mohabbatein  Shah Rukh Khan, Aishwarya Rai  Lata Mangeshkar, Udit Narayan.mp3",
    Singer: "Lata Mangeshkar & Udit Narayan",
    Fact: "“Aankhein Khuli” is a romantic duet from the 2000 Bollywood film *Mohabbatein*, sung by legendary playback singers Lata Mangeshkar and Udit Narayan.",
  },
  {
    src: "AFSOS - Anuv Jain ft. AP Dhillon (Official Visualizer).mp3",
    Singer: "Anuv Jain ft. AP Dhillon",
    Fact: "“Afsos” marks Anuv Jain’s first-ever collaboration (his 13th single) and his return to Punjabi-language music after about a decade.",
  },
  {
    src: "Alan Walker, Faouzia - Last Song (Lyrics) - WavelsIntinct.mp3",
    Singer: "Alan Walker & Faouzia",
    Fact: "Alan Walker is a Grammy-nominated Norwegian DJ-producer known for hits like “Faded” (2015), and Faouzia is a Moroccan-Canadian singer-songwriter; they teamed up for this 2025 single “Last Song.”",
  },
  {
    src: "Anne-Marie - Ciao Adios (Lyrics _ Lyric Video) - Taz Network.mp3",
    Singer: "Anne-Marie",
    Fact: "Released in early 2017, “Ciao Adios” became Anne-Marie’s first solo UK Top-10 single, peaking at #9 on the UK Singles Chart.",
  },
  {
    src: "AP Dhillon & Shinda Kahlon - STFU (Official Audio).mp3",
    Singer: "AP Dhillon & Shinda Kahlon",
    Fact: "Punjabi singer AP Dhillon – hailed as a “global sensation” – teamed up with rapper Shinda Kahlon on this 2025 single.",
  },
  {
    src: "Aydilge-Hayat Şaşırtır.mp3",
    Singer: "Aydilge",
    Fact: "Aydilge (born Aydilge Sarp, 1979) is a Turkish singer-songwriter and writer. She first emerged in 2006 and has since released multiple albums blending pop and rock.",
  },
  {
    src: "Barbadiyan.mp3",
    Singer: "KK & Rikkee",
    Fact: "“Barbadiyan” (2014) is a duet by Indian playback singer KK (Krishnakumar Kunnath) and artist Rikkee.",
  },
  {
    src: "Bayaan Hasan Raheem Rovailo - Maand (Lyric Video).mp3",
    Singer: "Bayaan ft. Hasan Raheem & Rovalio",
    Fact: "Bayaan is a Pakistani singer-songwriter and Hasan Raheem is a Karachi-based hip-hop artist; they collaborate with Rovalio on the Punjabi single “Maand.”",
  },
  {
    src: "Beggin’ Live From the American Music Awards 2021.mp3",
    Singer: "Måneskin",
    Fact: "Italian rock band Måneskin performed “Beggin’” at the 2021 American Music Awards. Their cover of “Beggin’” became their only US Billboard Hot 100 hit to date.",
  },
  {
    src: "Bheegi Bheegi (From Gangster).mp3",
    Singer: "James",
    Fact: "“Bheegi Bheegi” (2006) was sung by Bangladeshi rock singer James (Faruq Mahfuz Anam) for the Bollywood film *Gangster*.",
  },
  {
    src: "Big Poppa (2007 Remaster).mp3",
    Singer: "The Notorious B.I.G.",
    Fact: "“Big Poppa” was The Notorious B.I.G.’s first Top-10 single on the US Billboard Hot 100, debuting and peaking at #6.",
  },
  {
    src: "Biggie Cheese - Mr. Boombastic (Bass Boosted ).mp3",
    Singer: "Biggie Cheese",
    Fact: "Biggie Cheese is a fictional rapping rat from the 2006 animated film *Barnyard*, where he performs Shaggy’s song “Mr. Boombastic”.",
  },
  {
    src: "Coldplay - WE PRAY (Jasleen Royal Version) (Official Visualiser).mp3",
    Singer: "Coldplay ft. Jasleen Royal",
    Fact: "Coldplay released a Hindi version of “We Pray” featuring singer Jasleen Royal on February 13, 2025.",
  },
  {
    src: "Curtis Waters - Stunnin’ ft. Harm Franklin (Official Video) - Curtis Waters.mp3",
    Singer: "Curtis Waters ft. Harm Franklin",
    Fact: "Curtis Waters’ single “Stunnin’” went viral on TikTok in 2020, appearing in over 25,000 user videos and garnering roughly 500,000 Spotify streams in under a week.",
  },
  {
    src: "Dean Lewis - With You (Official Video) - DeanlewisVEVO.mp3",
    Singer: "Dean Lewis",
    Fact: "“With You” was released on January 9, 2025 as the lead single from the deluxe edition of Dean Lewis’s third album *The Epilogue*.",
  },
  {
    src: "Diljit Dosanjh_ Lalkaara (Video) Feat. Sultaan  GHOST  Intense, Raj Ranjodh.mp3",
    Singer: "Diljit Dosanjh ft. Sultaan",
    Fact: "Diljit Dosanjh is a prominent Punjabi singer and actor – for example, his song “Lak 28 Kudi Da” topped the US Asian Download Chart and he collaborates here with Sultaan on “Lalkaara.”",
  },
  {
    src: "Don’t Matter.mp3",
    Singer: "Akon",
    Fact: "“Don’t Matter” (2007) is a reggae-infused R&B track by Akon. It became his second U.S. Billboard Hot 100 #1 single.",
  },
  {
    src: "Ek Dilruba Hai Bewafa Akshay Kumar, Kareena Kapoor Udit Narayan Mera Dil Jis Dil Pe Fida Hai.mp3",
    Singer: "Udit Narayan ft. Lata Mangeshkar",
    Fact: "“Ek Dilruba Hai Bewafa” is from the 2005 Bollywood movie *Bewafaa*, featuring vocals by Lata Mangeshkar and Udit Narayan.",
  },
  {
    src: "Elyanna - Callin' U (Tamally Maak) (Official Visualizer) - Elyanna اليانا.mp3",
    Singer: "Elyanna",
    Fact: "Elyanna is a Palestinian-Chilean singer-songwriter signed to Universal Arabic Music. She became the first artist to perform an Arabic song on *The Late Show with Stephen Colbert*.",
  },
  {
    src: "Elyanna - GANENI (Official Music Video) - ElyannaVEVO.mp3",
    Singer: "Elyanna",
    Fact: "Her song “Ganeny” (released 2024) made history as the first Arabic-language track featured in the video game EA Sports FC 25.",
  },
  {
    src: "Eminem - Houdini (Official Music Video).mp3",
    Singer: "Eminem",
    Fact: "“Houdini” debuted at #2 on the Billboard Hot 100 in June 2024 with 48.8 million streams, marking Eminem’s highest-charting US single in over a decade.",
  },
  {
    src: "Eminem - Love The Way You Lie ft. Rihanna.mp3",
    Singer: "Eminem ft. Rihanna",
    Fact: "“Love The Way You Lie” was a seven-week #1 on the US Billboard Hot 100 and sold over 12 million copies in the U.S. alone.",
  },
  {
    src: "Eminem - Rap God (Explicit).mp3",
    Singer: "Eminem",
    Fact: "With 1,560 words in a 6-minute track, “Rap God” entered the Guinness World Records as the hit single with the most words.",
  },
  {
    src: "Eminem - Sing For The Moment (Official Music Video).mp3",
    Singer: "Eminem",
    Fact: "This 2002 single samples Aerosmith’s “Dream On” and peaked at #14 on the Billboard Hot 100.",
  },
  {
    src: "Eminem - The Monster ft. Rihanna (Audio) - EminemVEVO.mp3",
    Singer: "Eminem ft. Rihanna",
    Fact: "“The Monster” (2013) topped the charts in 12 countries, including reaching #1 on the US Billboard Hot 100.",
  },
  {
    src: "Everyday Normal Guy 2.mp3",
    Singer: "Jon Lajoie",
    Fact: "Jon Lajoie is a Canadian comedian and actor known for his viral comedy songs on YouTube. “Everyday Normal Guy 2” is his 2021 sequel to a popular satirical music video.",
  },
  {
    src: "George Michael - Careless Whisper (Official Video).mp3",
    Singer: "George Michael",
    Fact: "“Careless Whisper” topped the charts in at least 10 countries and sold about 6 million copies worldwide, making it one of the best-selling singles of all time.",
  },
  {
    src: "HALF HORSE HALF MAN OFFICIAL VIDEO - OCT.mp3",
    Singer: "O.C.T.",
    Fact: "O.C.T. (Old City Texas) is an independent hip-hop duo known for humorous tracks. “Half Horse Half Man” is a comedic rap video by the group.",
  },
];

//Required Global Variables
const SongsCont = document.getElementById("PlaylistCont");
const MusicPlayer = document.getElementById("MusicPlayer");
const PlayPause = document.getElementById("play-pause");
const Audio = document.getElementById("audio");
const Slider = document.getElementById("seek-slider");
const currTime = document.getElementById("current-time");
const duration = document.getElementById("duration");
const MusicImage = document.getElementById("MusicImage");
const Songname = document.getElementById("Songname");
const SingerName = document.getElementById("SingerName");
const Facts = document.getElementById("Facts");
const Next = document.getElementById("next");
const Previous = document.getElementById("previous");
let PresentSongIndex = -1;
//Methods
function formatTime(timeInSeconds) {
  const minutes = Math.floor(timeInSeconds / 60);
  const seconds = Math.floor(timeInSeconds % 60)
    .toString()
    .padStart(2, "0");
  return `${minutes}:${seconds}`;
}

// Playlist
function SongBarUI(SName, Singer, Sfact, idx) {
  // Create main container
  const musicBox = document.createElement("div");
  musicBox.className = "music-box";

  // Create marquee container
  const marqueeContainer = document.createElement("div");
  marqueeContainer.className = "marquee-container";

  // Create song name marquee
  const songMarquee = document.createElement("marquee");
  songMarquee.className = "song-name";
  songMarquee.setAttribute("behavior", "scroll");
  songMarquee.setAttribute("direction", "left");
  songMarquee.textContent = SName;

  // Create singer name marquee
  const singerMarquee = document.createElement("marquee");
  singerMarquee.className = "singer-name";
  singerMarquee.setAttribute("behavior", "scroll");
  singerMarquee.setAttribute("direction", "left");
  // singerMarquee.setAttribute("scrolldelay", "80ms");
  singerMarquee.textContent = Singer;

  // Append marquees to container
  marqueeContainer.appendChild(songMarquee);
  marqueeContainer.appendChild(singerMarquee);

  // Create pause button
  const pauseBtn = document.createElement("button");
  pauseBtn.className = "pause-btn";
  pauseBtn.textContent = "⏵";

  // Functionality of the Pause-Play Button
  try {
    pauseBtn.onclick = (e) => {
      Audio.setAttribute("src", `./Music_Folder/${SName}`);
      Audio.play();
      Songname.textContent = SName;
      SingerName.textContent = Singer;
      MusicImage.style.animation = "MusicBoost 0.8s infinite ease-in-out";
      PlayPause.innerHTML = "⏸";
      console.log(SName);
      console.log(Audio.duration);
      Facts.innerHTML = `${Sfact}`;
      PresentSongIndex = idx;
    };
  } catch (error) {
    console.log("Error : ", error);
  }

  // Append everything to music box
  musicBox.appendChild(marqueeContainer);
  musicBox.appendChild(pauseBtn);

  Audio.preLoad = "metadata";

  // Append music box to body or any other container
  return musicBox;
}

// Playlist Data 
SongData.map((ele, idx) => {
  SongsCont.appendChild(SongBarUI(ele.src, ele.Singer, ele.Fact, idx));
});

// Music Player
Audio.addEventListener("timeupdate", () => {
  Slider.value = (Audio.currentTime / Audio.duration) * 100;
  currTime.textContent = formatTime(Audio.currentTime);
});
Audio.addEventListener("loadedmetadata", () => {
  duration.textContent = formatTime(Audio.duration);
});
PlayPause.onclick = (e) => {
  if (PlayPause.innerHTML == "⏵") {
    MusicImage.style.animation = "MusicBoost 0.8s infinite ease-in-out";

    PlayPause.innerHTML = "⏸";
    Audio.play();
  } else {
    PlayPause.innerHTML = "⏵";
    MusicImage.style.animation = "none";
    Audio.pause();
  }
};

// CurrentTime Change Function
Slider.addEventListener("input", () => {
  Audio.currentTime = (Slider.value / 100) * audio.duration;
});



// Next Song Event
Next.onclick = (e) => {
  console.log(PresentSongIndex);
  let songDex = PresentSongIndex + 1;
  console.log(SongData[songDex].src);
  MusicImage.style.animation = "MusicBoost 0.8s infinite ease-in-out";
  PlayPause.innerHTML = "⏸";
  SingerName.textContent = SongData[songDex].Singer;
  Songname.textContent = SongData[songDex].src;
  Facts.textContent = SongData[songDex].Fact;
  Audio.src = `./Music_Folder/${SongData[songDex].src}`;
  setTimeout(() => {
    Audio.play();
  }, 500);
  PresentSongIndex = songDex;
};

//Previous Song Event
Previous.onclick = (e) => {
  console.log(PresentSongIndex);
  let songDex = PresentSongIndex - 1;
  console.log(SongData[songDex].src);
  SingerName.textContent = SongData[songDex].Singer;
  Songname.textContent = SongData[songDex].src;
  Facts.textContent = SongData[songDex].Fact;
  MusicImage.style.animation = "MusicBoost 0.8s infinite ease-in-out";
  PlayPause.innerHTML = "⏸";
  Audio.src = `./Music_Folder/${SongData[songDex].src}`;
  setTimeout(() => {
    Audio.play();
  }, 500);
  PresentSongIndex = songDex;
};
